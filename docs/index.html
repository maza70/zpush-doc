<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="ZPush documentation with samples for WebDAV, Samba, Nextcloud, SFTP, PhotoPrism" />
    <meta name="keywords" content="Android, App, ZPush, WebDAV, Samba, Nextcloud, PhotoPrism, SFTP, push, images " />
    <meta name="author" content="Matthias Zartmann" />
    <meta name="copyright" content="Matthias Zartmann" />
    <meta name="robots" content="index,follow" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link rel="icon" type="image/x-icon" href="../favicon.ico">
    <title>ZPush Documentation</title>
    <link rel="stylesheet" href="./style.css">
    <style>
        body>.skiptranslate {
            display: none !important;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
</head>

<body>

    <img src="https://fun.goip.de/site_counter?site=zpush" style="display:none;" alt="">  
    <div class="site">
        <!-- google translate start-->
        <div style="display: flex; justify-content: flex-end">
            <div id="google_translate_element"></div>
        </div>

        <script type="text/javascript">
            function googleTranslateElementInit() {
                new google.translate.TranslateElement(
                    {
                        pageLanguage: 'en',
                        includedLanguages: 'en,de,es,fr,it,zh-CN,nl,ru',
                    },
                    'google_translate_element'
                );
            }
        </script>
        <script type="text/javascript"
            src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>


        <!-- google translate end-->
        <h1>ZPush Documentation</h1>
        <img src="images/funktionsgrafik.jpg"
            style="border-radius: 15px;display: block;margin-left: auto;margin-right: auto;width: 80%;max-width: 500px;" />


        <H2>Index</H2>
        <ul>
            <li><a href="#INTRODUCTION">Introduction</a></li>
            <li><a href="#GTK">Good to known</a></li>
            <li><a href="#MAIN-PAGE">Main Page</a></li>
            <li><a href="#ZPUSH-CONFIGURATION">ZPush Configuration</a></li>
            <li><a href="#Edit-JOB">Job Configuration</a></li>
            <li><a href="#SAMPLE-CONFIGURATIONS">Sample Configurations</a>
                <ul>
                    <li><a href="#SAMPLE-SAMBA">Samba or Windows share</a></li>
                    <li><a href="#SAMPLE-WEBDAV">WebDAV</a></li>
                    <li><a href="#SAMPLE-SFTP">SFTP</a></li>
                    <li><a href="#SAMPLE-NEXTCLOUD">Nextcloud</a></li>
                    <li><a href="#SAMPLE-PHOTOPRISM">PhotoPrism</a></li>
                </ul>
            </li>
        </ul>
        <div id="INTRODUCTION" class="section">
            <H2>Introduction</H2>
            <p>
                ZPush is an Android application that allows you to transfer files from your smartphone to a server on
                your network.
                Unlike other Android apps, ZPush uses the approach of transmitting new or modified files to the server only once. 
                This allows you to move the files on the server without them being retransferred by ZPush.
                <br>
                ZPush is primarily designed to automatically save e.g. photos from your smartphone to your private
                server without manual interaction.
            </p>

            <H2 id="WCZ">What can ZPush</H2>
            <ul>

                <li>Automatically transfer directories and files from your smartphone to a server.</li>
                <li>Rename files during transfer so that the name matches your wishes.</li>
                <li>A connection is only established if the server is reachable.</li>
                <li>Scheduled or manual upload.</li>
                <li>For NAS-System wait time to wake up the NAS-System</li>
                <li>support for Android 7 till Android 15</li>
                <li>Multiple jobs for upload</li>
                <li>The following server interfaces are supported:
                    <ul>
                        <li>SFTP</li>
                        <li>Samba (SMB 2.0, SMB 2.1 and SMB 3.0)</li>
                        <li>Windows file shares</li>
                        <li>WebDAV</li>
                        <li>Nextcloud</li>
                        <li>PhotoPrism</li>
                    </ul>
                </li>
            </ul>
            Do you have suggestions for improvement, please contact me per email: (<a
                href="mailto:matthias.zartmann+zpush@gmail.com">matthias.zartmann@gmail.com</a>)
   

          <H2 id="SOYD">Security of your data</H2>
          <ul>
            <li>ZPush does not transmit any data to third parties!</li>
            <li>ZPush unfortunately cannot detect which network the phone is currently connected to, as this would require the "Precise Location" permission.
                Before a login, ZPush checks whether the server is reachable within the network and also verifies the port used by the protocol.
                If the server and port are reachable, a login attempt is made.
                If you want to ensure that ZPush can only connect to your server, it is best to use the server's IPv6 link-local address, which starts with fe80:.
                Enter the IPv6 link-local address in the "Target Host" field as shown in the following example:
                [fe80::da3a:ccff:fadd:b741]</li>
          </ul>
   

          <H2 id="GTK">Good to know</H2>
          <H3>Dynamic Mac Address</H2>
          <p>
            Android Wifi connections can have dynamic Mac addresses. This can cause problems when changing the access point, so that the name resolution of the server does not work for a while. To avoid these problems, deactivate the dynamic assignment of the MAC address in the Wifi configuration of the connected Wifi network. Alternatively, you can also work with IP addresses in ZPush.
         </p>
         <H3>Problems with ZPush</H2>
         <p>
          You are already very close to solving the problem since you are reading this guide :-) But there are always problems where you get stuck and if you think it's ZPush because other software works, please contact me. On the "About ZPush" page there is an “Email to support” button that you can use to send me an email with all the information I need to analyze the problem. The information does not include passwords but server names and IP addresses.
         </p>
          
       </div>

        <!------Main Page -->
        <div id="MAIN-PAGE" class="section">
            <h1>The main page </h1>

            <img class="image" src="images/main.jpg">

            <ol type="1">
                <li>Activate the background upload.</li>
                <li>ZPush upload new files from activated jobs in an interval and only when the server is reachable.
                </li>
                <li>Open the Log file.</li>
                <li>Add a new job.</li>
                <li>Configure ZPush.</li>
                <li>Run all activated jobs.</li>
                <li>Open the About page.</li>
                <li>This is a Job, tab to open job configuration.</li>
                <li>Activate job for run automatic.</li>
                <li>Run a single job.</li>
            </ol>
        </div>
        <!------ZPush configuration -->
        <div id="ZPUSH-CONFIGURATION" class="section">
            <h1>The ZPush configuration</h1>
          
            <img id="mainConfigUploadFrequence" class="image" src="images/mainConfig1.jpg">
            <p class="center">
                The upload frequency defines how often ZPush check all activated jobs for new files and upload this
                files.
                The android system decides itself when ZPush is executed, and therefore the following times are ony
                approximate
                values.
                The left position of the slider suggests Android to start every 15 minutes, and the right position 10
                hours.
            </p>
            <img id="mainConfigUploadWhen" class="image" src="images/mainConfig2.jpg">
            <p>The scheduler only starts if these selected conditions are all fulfilled.</p>
            <ol type="1">
                <li>Start the background upload only when a Wi-Fi is connected</li>
                <li>Start the background upload only when android detect that the device is idle</li>
                <li>Start the background upload only when the device is charging</li>
            </ol>
            <img id="mainConfigUploadRetries"  class="image" src="images/mainConfigRetries.jpg">
            <p class="center" >Here you specify how often ZPush attempts to repeat the failed operation before it aborts with an error. 
               You can specify this first for all operations, that are executed during the upload. 
               For the spinup for the Nas you can set this in the second slider and only affects the Nas spinup.</p>

            <img id="mainConfigUploadExport"  class="image" src="images/mainConfig3.jpg">
            <p class="center">
                You can export all Job configurations to save this on your device.
                The import, deletes all exists jobs and restores the jobs from the export.
            </p>
        </div>


        <!--Edit Job-->

        <div id="Edit-JOB" class="section">
            <h1>Edit Job </h1>

            <div class="itemdesc">
                <img class="image" src="images/edit1.jpg">
                <ol type="1">
                    <li>Input here the name of the job</li>
                    <li>Activate the job so that it is executed on automatic/manual start.</li>
                    <li>Delete exists Job (only visible when edit a job)</li>
                    <li>Clone this job and after this, the configuration shows the cloned job.</li>
                    <li>The job statistics show you various statistical information.</li>
                </ol>
            </div>

            <h2>Source</h2>
            <div class="itemdesc">
                <img class="image" src="images/jobConfig-localdir.jpg">
                <p class="center">
                    Tap here to open the directory picker and select a directory for upload.
                </p>
            </div>
            <div class="itemdesc">
                <img class="image" src="images/jobConfig-include.jpg">
                <p class="center">
                    You can set include filter, all files match the pattern will be uploaded. Input a patter like:
                    "*.jpg,*.gif". Separate each pattern with a comma.
                </p>
            </div>
            <div class="itemdesc">
                <img class="image" src="images/jobConfig-exclude.jpg">
                <p class="center">
                    This is like "include filter" but exclude the files that match the patterns.
                </p>
            </div>
            <div class="itemdesc">
                <img class="image" src="images/jobConfig-DeleteAfterUpload.jpg">
                <p class="center">
                    If a file uploaded successfully, ZPush delete this from the device.
                    <span class="important"><br>Please note that the source file will be irretrievably deleted.</span>
                </p>
            </div>

            <div class="itemdesc">
                <img class="image" src="images/jobConfig-checksum.jpg">
                <p class="center">If activated, a checksum of the target file and source file is calculated and compared. This ensures that the target file corresponds 100% to the source file.
              
                    <span class="important"><br>Please note that double the amount of data is transferred when activated.</span>
                </p>
                
            </div>
            
            <div class="itemdesc">
                <img class="image" src="images/jobConfig-IncludeSubFolders.jpg">
                <p class="center">Upload all files included all subfolder, <span class="important"> if enabled the target structure is
                        hide.</span></p>
            </div>
            <div class="itemdesc">


                <img class="image" src="images/jobConfig-SkipFilesWifi.jpg">
                <p class="center">Skips files if they are larger than specified and no Wi-Fi is connected. If the job is run again and
                    Wi-Fi is
                    available, the skipped files are transferred. This option is useful if you also transfer files via
                    the
                    mobile network when you are on the move, but prefer to transfer larger files via your Wi-Fi network
                </p>
            </div>
         
            <div class="itemdesc">
                <img class="image" src="images/jobConfig-SetStartPoint.jpg">
                <p class="center">Opens the page for setting the starting point for the next transfer.
                    This makes it possible to skip files or transfer them again.</p>
            </div>



            <h2>Target</h2>
            <!--  filename pattern  -->
            <div class="itemdesc">
                <img class="image" src="images/jobConfig-target-filename.jpg">
                <p class="center">Defines the pattern how the target filename will be created. Tab in the icon on the right to open the
                    designer.</p>
                <p class="center">ZPush reads exif information from your image file when copying (only .jpg and .jpeg exif data is supported) and makes the information available in different variables. If no exif data is found or if it is not a jpg file, the file system information is evaluated.</p>

            </div>

            <!--  target structure  -->
        

            <div class="itemdesc">
                <img class="image" src="images/jobConfig-target-stucture.jpg">
                <p class="center">The target structure can be used to determine the type of files to be stored. This is very useful if you want to store your images in a structured way. </p>
                <p class="center">
                <span class="important">Please note that the structure can only be set if the option “Include all subdirectories and files” is not activated!</span>

                </p>
                Follow target structures are availabel:</p>
                <dl>
                    <dt>Flat</dt>
                    <dd>All files are store under the given path.<br>
                    <strong>Example: /myPicture.jpg </strong>
                    </dd>
                    <dt>Create year/month directories</dt>
                    <dd>With this structure, ZPush automatically creates subdirectories with the year and month when the image was photographed or where the file was changed.<br>
                        <strong>Example: /2025/05/myPicture.jpg</strong>
                    </dd>
                    <dt>Create year/month/day directories</dt>
                    <dd>With this structure, ZPush automatically creates subdirectories with the year, month and day when the image was photographed or where the file was changed.<br>
                        <strong>Example: /2025/05/03/myPicture.jpg</strong>
                    </dd>
                    <dt>Create year-month directory</dt>
                    <dd>With this structure, ZPush automatically creates one subdirectory with the year and month when the image was photographed or where the file was changed.<br>
                       <strong> Example: /2025-05/myPicture.jpg </strong><br>
                    </dd>
                </dl>
            </div>

            <!--  Driver  -->
            <div class="itemdesc">
                <img class="image" src="images/jobConfig-target-driver.jpg">
                <p class="center">Select the driver depend on your target server.<br>
                    <br>
                Follow driver are available:</p>
                <dl>
                    <dt>Samba </dt>
                    <dd>This driver can you use if you want to upload to a Linux samba share or a Windows share.
                        This driver support the SMB protocol SMB 2.0, SMB 2.1 and SMB 3.0 these are
                        compatible with Windows 10, Windows 11 and all modern Linux servers.
                        <span class="important">Please note that Windows 11 no longer supports anonymous connections! With Windows 11, you must authenticate yourself with a user and password.</span>
                    </dd>
                    <dt>WebDAV</dt>
                    <dd>
                        This is an http/https protocol to transfer files over a web server. ZPush supports streaming
                        for big uploads. I have tested this with Apache2 under Ubuntu 20.04.5.
                        Supported http/https authentications are: Basic and Digest
                    </dd>
                    <dt>Nextcloud</dt>
                    <dd>This protocol is equal like the WebDAV protocol but support big files and implement the
                        protocol extensions from Nextcloud.</dd>
                    <dt>PhotoPrism</dt>
                    <dd>For upload in PhotoPrism.</dd>
                    <dt>SFtp (Secure File Transfer Protocol)
                    <dd>This protocol is special for Linux server and use the ssh to transfer files. </dd>
                </dl>
            </div>
            <!--  Hostname  -->
            <div class="itemdesc">
                <img class="image" src="images/jobConfig-target-host.jpg">
                <p class="center">Input here the server name or the IPv4 or IPv6 address and if the port deviating from the standard you
                    can append it by double point. If you have problems with the Name resolution, please use the Ip address or deactivate the dynamic Mac address on your device. </p>

                Samples:
                <ul>
                    <li>Ubuntu</li>
                    <li>Ubuntu:443
                    <li>192:168:178:55</li>
                    <li>[2003:de:d71d:4600:20c:aaff:fe42:dde2]</li>
                    <li>[2003:de:d71d:4600:20c:aaff:fe42:dde2]:443</li>
                </ul>
            </div>
            <!--  ssl  -->
            <div class="itemdesc">
                <img class="image" src="images/jobConfig-target-ssl.jpg">
                <p class="center">If you have a http based protocol, you can enable SSL to communicate over https.
                    Self singed certificates are accepted! </p>
            </div>
            <!--  username  -->
            <div class="itemdesc">
                <img class="image" src="images/jobConfig-target-username.jpg">
                <p class="center">Input the username target directory need an authentication. Leave empty for anonymous access.</p>
            </div>
            <!--  password  -->
            <div class="itemdesc">
                <img class="image" src="images/jobConfig-target-password.jpg">
                <p class="center">Input the right password for the given username.</p>
            </div>

            <!--  target path  -->
            <div class="itemdesc">
                <img class="image" src="images/jobConfig-target-path.jpg">
                <p class="center">The target path depends on your selected driver</p>
                <dl>
                    <dt>Samba (Windows share)/dt>
                    <dd>\Share\directory1\directory2</dd>
                    <dt>WebDAV</dt>
                    <dd>/directory1/directory2</dd>
                    <dt>NextCloud</dt>
                    <dd>/remote.php/dav/files/<span class="important">[your nextcloud
                            username]</span>/directory1/directory2</dd>
                    <dt>SFTP</dt>
                    <dd>/directory1/directory2</dd>
                    <dt>PhotoPrism</dt>
                    <dd>/originals</dd>
                </dl>
                <p class="center">If you click the folder icon, a directory picker opens, and you can browse the right target
                    directory.</p>
            </div>

            <!--  Test  -->
            <div class="itemdesc">
                <img class="image" src="images/jobConfig-target-test.jpg">
                <p class="center">This button test your setting and check if the server reachable and can access the selected
                    directory.
                    <span class="important"><br>Please test always your settings!</span>
                </p>
            </div>
        </div>

        <!--Sample Configuration-->
        <div id="SAMPLE-CONFIGURATIONS" class="section">
            <h1>Sample Configurations </h1>
            <p class="center">In this chapter you will see various example configurations of how you can configure your target system.
            </p>

            <h2 id="SAMPLE-SAMBA">Samba or Windows share</h2>
            <p class="center">This example uses the root folder from the share ZPUSH_PWD. A user and password are required for this
                share. If you do not require a user for your share, leave the User field empty.
            
                
            </p>
            <p>
                <span class="important">Please note that Windows 11 no longer supports anonymous connections! With Windows 11, you must authenticate yourself with a user and password.</span>
            </p>

            <img class="image" src="images/sample_samba.jpg">


            <h2 id="SAMPLE-WEBDAV">WebDAV</h2>
            <p class="center">This example uses WebDAV (Web-based Distributed Authoring and Versioning) which can be accessed via Http
                under port 8080. It requires authentication and this can be done via “Basic Authentication” or “Digest
                Access Authentication”.</p>
            <img class="image" src="images/sample_webdav.jpg">



            <h2 id="SAMPLE-SFTP">SFTP</h2>
            <p class="center">This example for SFTp (Secure File Transfer Protocol) shows a connection to a Linux computer, the user
                name and password corresponds to an operating system user. </p>
            <img class="image" src="images/sample_sftp.jpg">


            <h2 id="SAMPLE-NEXTCLOUD">Nextcloud</h2>
            <p class="center">This is an example for <a href="https://nextcloud.com" target="_blank">Nextcloud</a> users and accesses
                an installed Nextcloud via Https with the Nextcloud user zpush. Please make sure that the user is
                correctly specified in the target path. </p>
            <img class="image" src="images/sample_nextcloud.jpg">


            <h2 id="SAMPLE-PHOTOPRISM">PhotoPrism</h2>
            <p class="center">This example uses the <a href="https://www.photoprism.app/" target="_blank">PhotoPrism</a> software, in
                this example PhotoPrism is configured for Https and runs under the standard port 2342.</p>
            <img class="image" src="images/sample_photoprism.jpg">


        </div>

        <hr>
        
        
        <div class="hcenter" style="margin-bottom: 2em;margin-top: 2em;">
            ZPush by Matthias Zartmann<br> Email: <a id="email" href="--">Please activate Javascript</a>

            <script language="JavaScript">
                let email = "Matthias." + "Zartmann" + "@";
                email += "g" + "mail" + ".com";
                document.getElementById("email").href = "mailto:" + email;
                document.getElementById("email").innerText = email;
            </script>

        </div>
        <div class="hcenter" style="margin-bottom: 2em;">
            <a href="./dsgvo.html">Datenschutz-Grundverordnung</a>

        </div>
     
    </div>


    <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
    <script>
        window.cookieconsent.initialise({
        "palette": {
        "popup": { "background": "#2E2E2E", "text": "#FFFFFF"},
        "button": { "background": "#181818"}},
        "theme": "basic",
        "position": "bottom-right",
        "content": {
            "message": "Diese Webseite verwendet Cookies, um Ihnen ein angenehmeres Surfen zu ermöglichen.",
            "dismiss": "Ok",
            "link": "Lese die DSGVO",
            "href": "./dsgvo.html"
            }
        });
        </script>
</body>

</html>
